<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wifiesp: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wifiesp
   &#160;<span id="projectnumber">2.0.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Main Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr  />
 <h1>Wifi ESP click</h1>
<p>WiFi ESP click carries the ESP-WROOM-02 module that integrates ESP8266EX.</p>
<p align="center"></p>
<p><img src="https://download.mikroe.com/images/click_for_ide/wifiesp_click.png" alt="" height="300px" class="inline"/> </p>
<p><a href="https://www.mikroe.com/wifi-esp-click">click Product page</a></p>
<hr  />
<h4>Click library</h4>
<ul>
<li><b>Author</b> : MikroE Team</li>
<li><b>Date</b> : Jun 2020.</li>
<li><b>Type</b> : UART GSM/IOT type</li>
</ul>
<h1>Software Support</h1>
<p>We provide a library for the WifiEsp Click as well as a demo application (example), developed using MikroElektronika <a href="https://shop.mikroe.com/compilers">compilers</a>. The demo can run on all the main MikroElektronika <a href="https://shop.mikroe.com/development-boards">development boards</a>.</p>
<p>Package can be downloaded/installed directly form compilers IDE(recommended way), or downloaded from our LibStock, or found on mikroE github account.</p>
<h2>Library Description</h2>
<blockquote class="doxtable">
<p>This library contains API for WifiEsp Click driver. </p>
</blockquote>
<h4>Standard key functions :</h4>
<ul>
<li>Config Object Initialization function. <blockquote class="doxtable">
<p>void wifiesp_cfg_setup ( <a class="el" href="structwifiesp__cfg__t.html" title="Click configuration structure definition.">wifiesp_cfg_t</a> *cfg ); </p>
</blockquote>
</li>
<li>Initialization function. <blockquote class="doxtable">
<p>WIFIESP_RETVAL wifiesp_init ( <a class="el" href="structwifiesp__t.html" title="Click ctx object definition.">wifiesp_t</a> *ctx, <a class="el" href="structwifiesp__cfg__t.html" title="Click configuration structure definition.">wifiesp_cfg_t</a> *cfg ); </p>
</blockquote>
</li>
<li>Click Default Configuration function. <blockquote class="doxtable">
<p>void wifiesp_default_cfg ( <a class="el" href="structwifiesp__t.html" title="Click ctx object definition.">wifiesp_t</a> *ctx ); </p>
</blockquote>
</li>
</ul>
<h4>Example key functions :</h4>
<ul>
<li>Sends AT command to the module. <blockquote class="doxtable">
<p>void <a class="el" href="group__public__function.html#ga8a9abe75fb26abc56c29deaccf815b7b" title="Sends AT command to the module.">wifiesp_send_cmd( wifiesp_t* ctx, uint8_t* cmd, uint8_t* args )</a>; </p>
</blockquote>
</li>
<li>Generic write function. <blockquote class="doxtable">
<p>void wifiesp_generic_write ( <a class="el" href="structwifiesp__t.html" title="Click ctx object definition.">wifiesp_t</a> *ctx, char *data_buf, uint16_t len ); </p>
</blockquote>
</li>
<li>Generic read function. <blockquote class="doxtable">
<p>int32_t wifiesp_generic_read ( <a class="el" href="structwifiesp__t.html" title="Click ctx object definition.">wifiesp_t</a> *ctx, char *data_buf, int32_t max_len ); </p>
</blockquote>
</li>
</ul>
<h2>Examples Description</h2>
<blockquote class="doxtable">
<p>This example connects to the desired WiFi network and then creates web server on the IP address assigned to the click board. The user can connect to the server via web browser. </p>
</blockquote>
<p><b>The demo application is composed of two sections :</b></p>
<h3>Application Init</h3>
<blockquote class="doxtable">
<p>Initializes driver and wifi communication, then connects to the desired WiFi network and creates web server on the IP address assigned to the click board. </p>
</blockquote>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="main_8c.html#a0e95431f48ee71c1040217b94766ffcf">application_init</a> ( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    log_cfg_t log_cfg;</div>
<div class="line">    <a class="code" href="structwifiesp__cfg__t.html">wifiesp_cfg_t</a> cfg;</div>
<div class="line">    </div>
<div class="line">    LOG_MAP_USB_UART( log_cfg );</div>
<div class="line">    log_init( &amp;logger, &amp;log_cfg );</div>
<div class="line">    log_info( &amp;logger, <span class="stringliteral">&quot;---- Application Init ----&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//  Click initialization.</span></div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__public__function.html#ga1a23903965f97913eae7bc4e03e958d0">wifiesp_cfg_setup</a>( &amp;cfg );</div>
<div class="line">    <a class="code" href="group__map__mikrobus.html#ga759865d4e923b7046262348ef219ca88">WIFIESP_MAP_MIKROBUS</a>( cfg , MIKROBUS_1 );</div>
<div class="line">    <a class="code" href="group__public__function.html#gad6f7a262cf5b8ab245b17f8f3d70ad84">wifiesp_init</a>( &amp;wifiesp , &amp;cfg );</div>
<div class="line">    <a class="code" href="group__public__function.html#ga486dffb8a77fc96c8bf9ea22c2664c9a">wifiesp_default_cfg</a>( &amp;wifiesp );</div>
<div class="line">    Delay_ms( 1000 );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Communication initialization</span></div>
<div class="line">    </div>
<div class="line">    <a class="code" href="main_8c.html#a0d253c5186ffe90a519634729cd34c22">wifi_communication_init</a>( );</div>
<div class="line">    </div>
<div class="line">    uint16_to_str ( strlen( <a class="code" href="main_8c.html#a0ea526fb7d2dcdfc60f9d6c8d679b04f">page</a> ), <a class="code" href="main_8c.html#a775756b81ff3eac2aff0028549ba9e6b">page_len</a> );</div>
<div class="line">    str_cut_chr ( <a class="code" href="main_8c.html#a775756b81ff3eac2aff0028549ba9e6b">page_len</a>, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line">    </div>
<div class="line">    log_info( &amp;logger, <span class="stringliteral">&quot;Please connect to the IP address listed above.\r\n&quot;</span> );</div>
<div class="line">}</div>
</div><!-- fragment --><h3>Application Task</h3>
<blockquote class="doxtable">
<p>Waits for the client request (paste IP address in your web browser and refresh to send a request). The click board will respond by sending a page content to the client. </p>
</blockquote>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="main_8c.html#a362899c9f270bb296179185fd96b878e">application_task</a> ( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    app_error_flag = wifiesp_rsp_check( <a class="code" href="group__commands.html#gae36bb341ed4c48163665013078998910">WIFIESP_RECEIVE</a> );</div>
<div class="line">    Delay_ms( 100 );</div>
<div class="line">    <span class="keywordflow">if</span> ( app_error_flag == <a class="code" href="main_8c.html#a59bf2009b268e9fb48f53a5b94ddac06">APP_OK</a> ) </div>
<div class="line">    {</div>
<div class="line">        strcpy ( <a class="code" href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a>, link_id );</div>
<div class="line">        strcat ( <a class="code" href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a>, <span class="stringliteral">&quot;,&quot;</span> );</div>
<div class="line">        strcat ( <a class="code" href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a>, <a class="code" href="main_8c.html#a775756b81ff3eac2aff0028549ba9e6b">page_len</a> );</div>
<div class="line">        str_cut_chr ( <a class="code" href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a>, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line">        <a class="code" href="group__public__function.html#ga8a9abe75fb26abc56c29deaccf815b7b">wifiesp_send_cmd</a>( &amp;wifiesp, <a class="code" href="group__commands.html#ga2ddae9d09853bcb0102908c007348f66">WIFIESP_SEND</a>, <a class="code" href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a> );</div>
<div class="line">        app_error_flag = wifiesp_rsp_check( <a class="code" href="main_8c.html#af3f4da765a837021c4bd7da77f15913d">RSP_READY_FOR_SEND</a> );</div>
<div class="line">        Delay_ms( 100 );</div>
<div class="line">        <a class="code" href="group__public__function.html#gaa7465ed13e8a8a3d7a87e18f3e6eca53">wifiesp_generic_write</a>( &amp;wifiesp, <a class="code" href="main_8c.html#a0ea526fb7d2dcdfc60f9d6c8d679b04f">page</a>, strlen( <a class="code" href="main_8c.html#a0ea526fb7d2dcdfc60f9d6c8d679b04f">page</a> ) );</div>
<div class="line">        app_error_flag = wifiesp_rsp_check( <a class="code" href="main_8c.html#a7dacafdabf2764a5293fa2e51d009da5">RSP_SEND_OK</a> );</div>
<div class="line">        wifiesp_error_check( app_error_flag );</div>
<div class="line">        <a class="code" href="group__public__function.html#ga8a9abe75fb26abc56c29deaccf815b7b">wifiesp_send_cmd</a>( &amp;wifiesp, <a class="code" href="group__commands.html#ga7403c55f5a3ef800502c84caebd0f09e">WIFIESP_CLOSE</a>, link_id );</div>
<div class="line">        app_error_flag = wifiesp_rsp_check( <a class="code" href="main_8c.html#a67a6963c10f0ded399938a17bf5d2a36">RSP_OK</a> );</div>
<div class="line">        wifiesp_error_check( app_error_flag );</div>
<div class="line">        Delay_ms( 100 );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The full application code, and ready to use projects can be installed directly form compilers IDE(recommneded) or found on LibStock page or mikroE GitHub accaunt.</p>
<p><b>Other mikroE Libraries used in the example:</b></p>
<ul>
<li>MikroSDK.Board</li>
<li>MikroSDK.Log</li>
<li>Click.WifiEsp</li>
</ul>
<p><b>Additional notes and informations</b></p>
<p>Depending on the development board you are using, you may need <a href="https://shop.mikroe.com/usb-uart-click">USB UART click</a>, <a href="https://shop.mikroe.com/usb-uart-2-click">USB UART 2 Click</a> or <a href="https://shop.mikroe.com/rs232-click">RS232 Click</a> to connect to your PC, for development systems with no UART to USB interface available on the board. The terminal available in all Mikroelektronika <a href="https://shop.mikroe.com/compilers">compilers</a>, or any other terminal application of your choice, can be used to read the message.</p>
<hr  />
 </div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="agroup__public__function_html_ga1a23903965f97913eae7bc4e03e958d0"><div class="ttname"><a href="group__public__function.html#ga1a23903965f97913eae7bc4e03e958d0">wifiesp_cfg_setup</a></div><div class="ttdeci">void wifiesp_cfg_setup(wifiesp_cfg_t *cfg)</div><div class="ttdoc">Config Object Initialization function.</div></div>
<div class="ttc" id="agroup__public__function_html_gad6f7a262cf5b8ab245b17f8f3d70ad84"><div class="ttname"><a href="group__public__function.html#gad6f7a262cf5b8ab245b17f8f3d70ad84">wifiesp_init</a></div><div class="ttdeci">WIFIESP_RETVAL wifiesp_init(wifiesp_t *ctx, wifiesp_cfg_t *cfg)</div><div class="ttdoc">Initialization function.</div></div>
<div class="ttc" id="amain_8c_html_a0ea526fb7d2dcdfc60f9d6c8d679b04f"><div class="ttname"><a href="main_8c.html#a0ea526fb7d2dcdfc60f9d6c8d679b04f">page</a></div><div class="ttdeci">uint8_t page[]</div><div class="ttdef"><b>Definition:</b> main.c:46</div></div>
<div class="ttc" id="agroup__commands_html_gae36bb341ed4c48163665013078998910"><div class="ttname"><a href="group__commands.html#gae36bb341ed4c48163665013078998910">WIFIESP_RECEIVE</a></div><div class="ttdeci">#define WIFIESP_RECEIVE</div><div class="ttdef"><b>Definition:</b> wifiesp.h:101</div></div>
<div class="ttc" id="amain_8c_html_a59bf2009b268e9fb48f53a5b94ddac06"><div class="ttname"><a href="main_8c.html#a59bf2009b268e9fb48f53a5b94ddac06">APP_OK</a></div><div class="ttdeci">#define APP_OK</div><div class="ttdef"><b>Definition:</b> main.c:32</div></div>
<div class="ttc" id="agroup__commands_html_ga7403c55f5a3ef800502c84caebd0f09e"><div class="ttname"><a href="group__commands.html#ga7403c55f5a3ef800502c84caebd0f09e">WIFIESP_CLOSE</a></div><div class="ttdeci">#define WIFIESP_CLOSE</div><div class="ttdef"><b>Definition:</b> wifiesp.h:96</div></div>
<div class="ttc" id="amain_8c_html_af3f4da765a837021c4bd7da77f15913d"><div class="ttname"><a href="main_8c.html#af3f4da765a837021c4bd7da77f15913d">RSP_READY_FOR_SEND</a></div><div class="ttdeci">#define RSP_READY_FOR_SEND</div><div class="ttdef"><b>Definition:</b> main.c:38</div></div>
<div class="ttc" id="amain_8c_html_a362899c9f270bb296179185fd96b878e"><div class="ttname"><a href="main_8c.html#a362899c9f270bb296179185fd96b878e">application_task</a></div><div class="ttdeci">void application_task(void)</div><div class="ttdef"><b>Definition:</b> main.c:269</div></div>
<div class="ttc" id="agroup__public__function_html_ga486dffb8a77fc96c8bf9ea22c2664c9a"><div class="ttname"><a href="group__public__function.html#ga486dffb8a77fc96c8bf9ea22c2664c9a">wifiesp_default_cfg</a></div><div class="ttdeci">void wifiesp_default_cfg(wifiesp_t *ctx)</div><div class="ttdoc">Click Default Configuration function.</div></div>
<div class="ttc" id="amain_8c_html_a0d253c5186ffe90a519634729cd34c22"><div class="ttname"><a href="main_8c.html#a0d253c5186ffe90a519634729cd34c22">wifi_communication_init</a></div><div class="ttdeci">void wifi_communication_init(void)</div><div class="ttdef"><b>Definition:</b> main.c:178</div></div>
<div class="ttc" id="amain_8c_html_a8bf6d398745b94fbb0f5a8a4965e2db7"><div class="ttname"><a href="main_8c.html#a8bf6d398745b94fbb0f5a8a4965e2db7">send_buf</a></div><div class="ttdeci">uint8_t send_buf[10]</div><div class="ttdef"><b>Definition:</b> main.c:49</div></div>
<div class="ttc" id="amain_8c_html_a7dacafdabf2764a5293fa2e51d009da5"><div class="ttname"><a href="main_8c.html#a7dacafdabf2764a5293fa2e51d009da5">RSP_SEND_OK</a></div><div class="ttdeci">#define RSP_SEND_OK</div><div class="ttdef"><b>Definition:</b> main.c:39</div></div>
<div class="ttc" id="astructwifiesp__cfg__t_html"><div class="ttname"><a href="structwifiesp__cfg__t.html">wifiesp_cfg_t</a></div><div class="ttdoc">Click configuration structure definition.</div><div class="ttdef"><b>Definition:</b> wifiesp.h:134</div></div>
<div class="ttc" id="agroup__commands_html_ga2ddae9d09853bcb0102908c007348f66"><div class="ttname"><a href="group__commands.html#ga2ddae9d09853bcb0102908c007348f66">WIFIESP_SEND</a></div><div class="ttdeci">#define WIFIESP_SEND</div><div class="ttdef"><b>Definition:</b> wifiesp.h:95</div></div>
<div class="ttc" id="amain_8c_html_a0e95431f48ee71c1040217b94766ffcf"><div class="ttname"><a href="main_8c.html#a0e95431f48ee71c1040217b94766ffcf">application_init</a></div><div class="ttdeci">void application_init(void)</div><div class="ttdef"><b>Definition:</b> main.c:233</div></div>
<div class="ttc" id="agroup__map__mikrobus_html_ga759865d4e923b7046262348ef219ca88"><div class="ttname"><a href="group__map__mikrobus.html#ga759865d4e923b7046262348ef219ca88">WIFIESP_MAP_MIKROBUS</a></div><div class="ttdeci">#define WIFIESP_MAP_MIKROBUS(cfg, mikrobus)</div><div class="ttdef"><b>Definition:</b> wifiesp.h:54</div></div>
<div class="ttc" id="agroup__public__function_html_ga8a9abe75fb26abc56c29deaccf815b7b"><div class="ttname"><a href="group__public__function.html#ga8a9abe75fb26abc56c29deaccf815b7b">wifiesp_send_cmd</a></div><div class="ttdeci">void wifiesp_send_cmd(wifiesp_t *ctx, uint8_t *cmd, uint8_t *args)</div><div class="ttdoc">Sends AT command to the module.</div></div>
<div class="ttc" id="amain_8c_html_a67a6963c10f0ded399938a17bf5d2a36"><div class="ttname"><a href="main_8c.html#a67a6963c10f0ded399938a17bf5d2a36">RSP_OK</a></div><div class="ttdeci">#define RSP_OK</div><div class="ttdef"><b>Definition:</b> main.c:37</div></div>
<div class="ttc" id="amain_8c_html_a775756b81ff3eac2aff0028549ba9e6b"><div class="ttname"><a href="main_8c.html#a775756b81ff3eac2aff0028549ba9e6b">page_len</a></div><div class="ttdeci">uint8_t page_len[5]</div><div class="ttdef"><b>Definition:</b> main.c:48</div></div>
<div class="ttc" id="agroup__public__function_html_gaa7465ed13e8a8a3d7a87e18f3e6eca53"><div class="ttname"><a href="group__public__function.html#gaa7465ed13e8a8a3d7a87e18f3e6eca53">wifiesp_generic_write</a></div><div class="ttdeci">void wifiesp_generic_write(wifiesp_t *ctx, char *data_buf, uint16_t len)</div><div class="ttdoc">Generic write function.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
